:root {
    --bg-gradient-start: #1561fe;
    --bg-gradient-mid1: #00a8cf;
    --bg-gradient-mid2: #1fb4f6;
    --bg-gradient-end: #35f7ff;

    --neon-shadow: 0 0 24px 2px #4efcff, 0 0 80px 10px #206fff inset;
    --neon-border: 2px solid #32fcfc;

    --calc-bg-dark: #181a20;
    --screen-bg-dark: #242834;
    --text-color-dark: #e8eafd;
    --button-bg-dark: #22273e;
    --button-text-dark: #a8bfff;
    --button-shadow-dark: #35c4ff;
    --button-equal-bg-dark: #33CFFE;

    --calc-bg-light: azure;
    --text-color-light: #23272f;
    --button-bg-light: #e3e8ff;
    --button-text-light: #394871;
    --button-shadow-light: #63ceff;
    --button-equal-bg-light: #00CEF9;
}

html, body {
    margin: 0;
    padding: 0;
    height: 100%;
}
body {
    min-height: 100vh;
    background: linear-gradient(135deg,
      var(--bg-gradient-start),
      var(--bg-gradient-mid1),
      var(--bg-gradient-mid2),
      var(--bg-gradient-end));
    background-size: 1200% 1200%;
    animation: gradientAnimation 20s ease infinite;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

@keyframes gradientAnimation {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.page-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 48px;
    min-height: 100vh;
    padding: 32px 6vw;
    box-sizing: border-box;
}

header {
    color: var(--text-color-dark);
    font-size: 2.7rem;
    font-weight: 800;
    margin-bottom: 18px;
    text-align: center;
    letter-spacing: 1.5px;
    text-shadow: 0 0 25px #19ffff, 0 0 3px #395fff;
}

.calculator {
    width: 100%;
    max-width: 350px;
    padding: 34px 28px 22px 28px;
    background: var(--calc-bg-dark);
    box-shadow: var(--neon-shadow);
    border-radius: 36px;
    border: var(--neon-border);
    display: flex;
    flex-direction: column;
    gap: 30px;
    color: var(--text-color-dark);
    transition: background 0.3s, box-shadow 0.3s;
    position: relative;
}

.calculator.light {
    background: var(--calc-bg-light);
    color: var(--text-color-light);
    box-shadow: 0 0 40px #d9f9ff;
    border: 2px solid #bffcff;
}

.calculator-screen {
    font-size: 3.2rem;
    color: inherit;
    border-radius: 28px;
    background: var(--screen-bg-dark);
    text-align: right;
    min-height: 64px;
    margin-bottom: 10px;
    padding: 12px 18px;
    box-shadow: 0 0 23px #3ee6ff inset;
    border: 2px solid #32fcfc;
    transition: background-color 0.3s, color 0.3s;
}

.calculator.light .calculator-screen {
    background: #e4eaff;
    color: #246979;
    box-shadow: 0 0 16px #cbe8ff inset;
    border-color: #a8e8f6;
}

.calculator-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
}

.calculator-buttons button {
    height: 54px;
    border-radius: 18px;
    border: var(--neon-border);
    background: var(--button-bg-dark);
    color: var(--button-text-dark);
    font-size: 1.22rem;
    font-weight: 700;
    box-shadow: 0 0 12px var(--button-shadow-dark);
    cursor: pointer;
    transition: background 0.2s, box-shadow 0.2s, color 0.2s;
    user-select: none;
    outline: none;
    position: relative;
}

.calculator-buttons button:hover,
.calculator-buttons button:focus {
    background: #298cff;
    color: #fff;
    box-shadow: 0 0 30px 6px #21eaff, 0 0 10px #3ee6ff inset;
    border-color: #19ffff;
}

.calculator.light .calculator-buttons button {
    background: var(--button-bg-light);
    color: var(--button-text-light);
    box-shadow: 0 0 10px var(--button-shadow-light);
    border: 2px solid #65eaff;
}

.calculator.light .calculator-buttons button:hover,
.calculator.light .calculator-buttons button:focus {
    background: #83cdfa;
    color: #256ca1;
    box-shadow: 0 0 30px #89eafa;
    border-color: #eafeff;
}

.calculator-buttons button.equal {
    background: var(--button-equal-bg-dark);
    color: #fff;
    font-weight: 900;
    box-shadow: 0 0 40px 10px #34f7ff;
    border: 2px solid #44fcff;
    text-shadow: 0 0 8px #19ffff, 0 0 2px #395fff;
}

.calculator.light .calculator-buttons button.equal {
    background: var(--button-equal-bg-light);
    box-shadow: 0 0 30px #bffcff;
    border-color: azure;
}

#toggle-theme {
    width: 100%;
    max-width: 320px;
    padding: 16px 0;
    font-size: 1.07rem;
    border-radius: 28px;
    margin: 0;
    background: linear-gradient(90deg,#10daff 40%,#398fff 100%);
    color: #fff;
    box-shadow: 0 0 32px 3px #43e6ff, 0 0 10px #4efcff;
    border: var(--neon-border);
    font-weight: 700;
    cursor: pointer;
    transition: background 0.25s, box-shadow 0.25s;
    user-select: none;
}

#toggle-theme:hover, #toggle-theme:focus {
    background: linear-gradient(270deg,#21fced 30%,#34bfff 100%);
    box-shadow: 0 0 54px #34fcff, 0 0 18px #52ffe6;
    color: #cafdff;
    outline: none;
}

@media (max-width: 900px) {
    .calculator { max-width: 320px; }
    #toggle-theme { max-width: 270px; }
    .page-wrapper { gap: 40px; padding: 16px 4vw; }
    header { font-size: 2.2rem; margin-bottom: 12px; }
}

@media (max-width: 600px) {
    .calculator { padding: 10vw 3vw; }
    #toggle-theme { max-width: 98vw; font-size: 1rem; }
    .page-wrapper { gap: 32px; padding: 6px 2vw; }
    header { font-size: 1.16rem; margin-bottom: 8px;}
}
